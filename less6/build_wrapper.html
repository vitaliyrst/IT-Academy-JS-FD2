<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Build wrapper</title>
</head>
<body>
<script>
    /*Напишите функцию для оборачивания текста в тег с атрибутами, с которой можно было бы работать в следующем стиле
    var wrapP=buildWrapper("P");   // строим функцию для оборачивания текста в тег P
    console.log( wrapP("Однажды в студёную зимнюю пору") );
    в консоль выводится строка "<P>Однажды в студёную зимнюю пору</P>"
    console.log( wrapP("Однажды в студёную зимнюю пору",{lang:"ru"}) );
    в консоль выводится строка "<P lang='ru'>Однажды в студёную зимнюю пору</P>"
    Функция должна учитывать, что некоторые символы надо заменять на HTML-мнемоники (а именно - символы < > ' " &):
    console.log( wrapP("Однажды в <студёную> зимнюю пору") );
    в консоль выводится строка "<P>Однажды в &lt;студёную&gt; зимнюю пору</P>"
    var wrapH1=buildWrapper("H1"); // строим функцию для оборачивания текста в тег H1
    console.log( wrapH1("СТИХИ",{align:"center",title:"M&M's"}) );
    в консоль выводится строка "<H1 align='center' title='M&amp;M&apos;s'>СТИХИ</H1>"*/

    "use strict";

    function buildWrapper(tagName) {
        tagName = tagName.toLowerCase();

        return function getStr(text, data) {
            let attribute = '';
            for (let key in data) {
                attribute += ` ${key}='${mnemonicReplace(data[key])}'`;
            }
            return `<${tagName}${attribute}>${mnemonicReplace(text)}</${tagName}>`;
        }
    }

    function mnemonicReplace(text) {
        let mnemonic = {'<': '&lt;', '>': '&gt;', "'": '&apos;', '"': '&quot;', '&': '&amp;'};
        let newText = text.split('');
        for (let i = 0; i < newText.length; i++) {
            for (let key in mnemonic) {
                if (newText[i] === key) {
                    newText[i] = mnemonic[key];
                }
            }
        }
        return newText.join('');
    }

    let wrapP = buildWrapper('P');
    console.log(wrapP('Однажды в студёную зимнюю пору'));
    console.log(wrapP('Однажды в студёную зимнюю пору', {lang: "ru"}));
    console.log(wrapP('Однажды в <студёную> зимнюю пору'));

    let wrapH1 = buildWrapper('H1');
    console.log(wrapH1('СТИХИ', {align: "center", title: "M&M's"}));
</script>
</body>
</html>